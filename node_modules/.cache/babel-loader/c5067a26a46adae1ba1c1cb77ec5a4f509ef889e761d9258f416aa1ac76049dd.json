{"ast":null,"code":"import axios from 'axios';\nimport { API_CONFIG } from '@/constants/content';\n\n// Mock API endpoint - replace with real API\nconst API_BASE_URL = 'https://dummyjson.com/products';\nconst state = {\n  products: [],\n  loading: false,\n  error: null,\n  totalPages: 0,\n  currentPage: 1,\n  itemsPerPage: 12\n};\nconst getters = {\n  sortedProducts: state => {\n    return [...state.products].sort((a, b) => {\n      return a.price - b.price;\n    });\n  }\n};\nconst mutations = {\n  SET_PRODUCTS(state, products) {\n    state.products = products;\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  },\n  SET_TOTAL_PAGES(state, totalPages) {\n    state.totalPages = totalPages;\n  },\n  SET_CURRENT_PAGE(state, page) {\n    state.currentPage = page;\n  }\n};\nconst actions = {\n  async fetchProducts({\n    commit,\n    state\n  }, {\n    page = 1,\n    sort = 'asc'\n  } = {}) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    try {\n      // Calculate pagination parameters\n      const limit = state.itemsPerPage;\n      const skip = (page - 1) * limit;\n\n      // Fetch products from API\n      const response = await axios.get(`${API_CONFIG.BASE_URL}?limit=${limit}&skip=${skip}`);\n      let products = response.data.products || [];\n\n      // Apply sorting\n      if (sort === 'asc') {\n        products.sort((a, b) => a.price - b.price);\n      } else if (sort === 'desc') {\n        products.sort((a, b) => b.price - a.price);\n      }\n\n      // Calculate total pages\n      const totalProducts = response.data.total || products.length;\n      const totalPages = Math.ceil(totalProducts / limit);\n      commit('SET_PRODUCTS', products);\n      commit('SET_TOTAL_PAGES', totalPages);\n      commit('SET_CURRENT_PAGE', page);\n    } catch (error) {\n      commit('SET_ERROR', 'Failed to load products. Please try again.');\n      commit('SET_PRODUCTS', []);\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};","map":{"version":3,"names":["axios","API_CONFIG","API_BASE_URL","state","products","loading","error","totalPages","currentPage","itemsPerPage","getters","sortedProducts","sort","a","b","price","mutations","SET_PRODUCTS","SET_LOADING","SET_ERROR","SET_TOTAL_PAGES","SET_CURRENT_PAGE","page","actions","fetchProducts","commit","limit","skip","response","get","BASE_URL","data","totalProducts","total","length","Math","ceil","namespaced"],"sources":["/Users/sinem.sungur/Downloads/ticimax-case/src/store/modules/products.js"],"sourcesContent":["import axios from 'axios'\nimport { API_CONFIG } from '@/constants/content'\n\n// Mock API endpoint - replace with real API\nconst API_BASE_URL = 'https://dummyjson.com/products'\n\nconst state = {\n  products: [],\n  loading: false,\n  error: null,\n  totalPages: 0,\n  currentPage: 1,\n  itemsPerPage: 12\n}\n\nconst getters = {\n  sortedProducts: (state) => {\n    return [...state.products].sort((a, b) => {\n      return a.price - b.price\n    })\n  }\n}\n\nconst mutations = {\n  SET_PRODUCTS(state, products) {\n    state.products = products\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading\n  },\n  SET_ERROR(state, error) {\n    state.error = error\n  },\n  SET_TOTAL_PAGES(state, totalPages) {\n    state.totalPages = totalPages\n  },\n  SET_CURRENT_PAGE(state, page) {\n    state.currentPage = page\n  }\n}\n\nconst actions = {\n  async fetchProducts({ commit, state }, { page = 1, sort = 'asc' } = {}) {\n    commit('SET_LOADING', true)\n    commit('SET_ERROR', null)\n    \n    try {\n      // Calculate pagination parameters\n      const limit = state.itemsPerPage\n      const skip = (page - 1) * limit\n      \n      // Fetch products from API\n      const response = await axios.get(`${API_CONFIG.BASE_URL}?limit=${limit}&skip=${skip}`)\n      \n      let products = response.data.products || []\n      \n      // Apply sorting\n      if (sort === 'asc') {\n        products.sort((a, b) => a.price - b.price)\n      } else if (sort === 'desc') {\n        products.sort((a, b) => b.price - a.price)\n      }\n      \n      // Calculate total pages\n      const totalProducts = response.data.total || products.length\n      const totalPages = Math.ceil(totalProducts / limit)\n      \n      commit('SET_PRODUCTS', products)\n      commit('SET_TOTAL_PAGES', totalPages)\n      commit('SET_CURRENT_PAGE', page)\n      \n    } catch (error) {\n      commit('SET_ERROR', 'Failed to load products. Please try again.')\n      commit('SET_PRODUCTS', [])\n    } finally {\n      commit('SET_LOADING', false)\n    }\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}